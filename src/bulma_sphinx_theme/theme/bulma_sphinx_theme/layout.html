{% extends "base.html" %}

{%- set sidebar_nav_html = generate_toctree_html(
"sidebar",
show_nav_level=theme_show_nav_level|int,
maxdepth=theme_navigation_depth|int,
collapse=theme_collapse_navigation|tobool,
includehidden=True,
titles_only=True)
-%}

{%- set head_nav_html = generate_header_nav_html(n_links_before_dropdown=theme_header_links_before_dropdown)
-%}

{% block htmlbody -%}

{% block docs_headnav %}
<nav class="navbar" role="navigation" aria-label="main navigation">
    {% include "sections/headnav.html" %}
</nav>
{% endblock docs_headnav %}

{%- block mainbody -%}
<div class="bulma-main">
    <div class="main-wrapper">
        <div class="bulma-sidenav is-hidden-mobile">
            <div class="sidenav-viewport">
                {% block left_sidebar %}
                {%- include "sections/sidenav.html" -%}
                {% endblock left_sidebar %}
            </div>
        </div>

        <main class="bulma-content">
            <article role="main" class="container is-max-desktop">
                {% block body %}{{ body }}{% endblock body %}
            </article>

            {% set page_toc = generate_toc_html() %}
            {%- if page_toc | length >= 1 %}
            <aside class="bulma-tocnav is-hidden-mobile">
                <div class="toc-wrapper toc-scroll">
                    {{ page_toc }}
                </div>
            </aside>
            {% endif %}
        </main>
    </div>
</div>
{%- endblock mainbody -%}

{% block footer %}
{% if theme_footer %}
{% include "sections/footer.html" %}
{% endif %}
{% endblock footer %}

{%- endblock htmlbody %}
