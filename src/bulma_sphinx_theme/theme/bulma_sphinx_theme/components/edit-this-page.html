{% extends "basic-ng/components/edit-this-page.html" %}
{% from "basic-ng/components/edit-this-page.html" import determine_page_edit_link with context %}

{%- macro page_edit_button(url) -%}
{% if theme_use_edit_page_button %}
<a class="edit-this-page level-item" href="{{ url }}" title="{{ translate('Edit this page') }}">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="44" height="44"
        viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
        stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
        <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
        <path d="M13.5 6.5l4 4" />
    </svg> {% if not show_source %} {{ translate('Edit this page') }} {% endif %}
</a>
{% endif %}
{%- endmacro -%}

{% block link_available -%}
{{ page_edit_button(determine_page_edit_link()) }}
{%- endblock link_available %}

{% block link_not_available %}
{# Make nice things happen, on Read the Docs #}
{%- if READTHEDOCS and conf_py_path and page_source_suffix and github_user != "None" and github_repo != "None" and
github_version and pagename and page_source_suffix %}
{% set url = "https://github.com/" + github_user + "/" + github_repo + "/edit/" + github_version + conf_py_path +
pagename + page_source_suffix %}
{{ page_edit_button(url) }}
{%- endif -%}
{% endblock link_not_available %}
